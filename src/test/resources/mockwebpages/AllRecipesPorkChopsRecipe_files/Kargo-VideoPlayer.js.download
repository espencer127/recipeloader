/*! Kargo VideoPlayer - v2.2.2 [20221012] */!function(i){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=i,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return escapeRegexString}),__webpack_require__.d(__webpack_exports__,"b",function(){return getSafeWindowVar}),__webpack_require__.d(__webpack_exports__,"c",function(){return isArray}),__webpack_require__.d(__webpack_exports__,"d",function(){return merge});var _prng__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);function convertNodeListToArray(t){return Array.prototype.slice.call(t)}function convertStringToFunction(str){return eval("(function() {"+str+"})")}function executeStringFunction(t,e){return convertStringToFunction(e).apply(t)}function replaceSmartCharacters(t){return t.replace(/[\u2018\u2019]/g,"'").replace(/[\u201c\u201d]/g,'"').replace(/[\u2014]/g,"--")}function escapeRegexString(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function fireCallbacks(t,e,i){void 0===i&&(i=[]);for(var n=0;n<e.length;n+=1)e[n].apply(t,i)}function getSafeWindowVar(t,e){var i=null;if(t&&e&&e.length)for(var i=t,n=e.split("."),r=0;r<n.length;r++)try{if(!i.hasOwnProperty(n[r])){i=null;break}i=i[n[r]]}catch(t){return null}return i}function generateUUID(o){for(var t=o.crypto&&o.crypto.getRandomValues?function(){var t=new Uint32Array(4),e=new Array(16);o.crypto.getRandomValues(t);for(var i=0;i<16;i++)e[i]=t[i>>2]>>>8*(3&i)&255;return e}:function(){for(var t,e=new Array(16),i=new _prng__WEBPACK_IMPORTED_MODULE_0__.a(function(){for(var t,e=[],i=(new Date).getTime()+Math.random().toString()+o.location.href+o.document.cookie,n=t=0,r=i.length;t<r;n=++t)e.push(i[n].charCodeAt(0));return e}()),n=0,n=0;n<16;n++)t=68719476736*i.random(),e[n]=t>>>((3&n)<<3)&255;return e},e=[],i=0;i<256;i++)e[i]=(i+256).toString(16).substr(1);var n,r=t();return r[6]=15&r[6]|64,r[8]=63&r[8]|128,n=0,e[r[n++]]+e[r[n++]]+e[r[n++]]+e[r[n++]]+"-"+e[r[n++]]+e[r[n++]]+"-"+e[r[n++]]+e[r[n++]]+"-"+e[r[n++]]+e[r[n++]]+"-"+e[r[n++]]+e[r[n++]]+e[r[n++]]+e[r[n++]]+e[r[+n]]+e[r[15]]}function isArray(t){return t&&"[object Array]"===Object.prototype.toString.call(t)}function isDocument(t){return!(!t||!t.nodeType||9!==t.nodeType)}function isElement(t){return!(!t||!t.nodeType||1!==t.nodeType)}function isFunction(t){return t&&"[object Function]"===Object.prototype.toString.call(t)}function isObject(t){return t&&t===Object(t)&&!isArray(t)&&!isFunction(t)}function isWindow(t){return!!(t&&t.document&&t.location&&t.alert&&t.setInterval)}function getObjectSize(t){var e=0;if(isObject(t))for(var i in t)t.hasOwnProperty(i)&&e++;return e}function leftPad(t,e,i){for(t+="";t.length<e;)t=i+t;return t}function merge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];function r(t,e){if("object"!=typeof e||null===e)return t;if(!isElement(e)&&!isWindow(e)&&!isDocument(e))for(var i in e){var n=e[i];e.hasOwnProperty(i)&&void 0!==n&&(!o&&t[i]||(isElement(n)||isWindow(n)||isDocument(n)||"object"!=typeof n||null===n?t[i]=n:"object"!=typeof t[i]||null===t[i]?t[i]=r(Array.isArray(n)?[]:{},n):Array.isArray(t[i])&&Array.isArray(n)?t[i]=t[i].concat(n):r(t[i],n)))}return t}var o=!1!==arguments[arguments.length-1],i=arguments[0]||{};if(!i||i!==Object(i))return i;for(var n=1;n<arguments.length;n++)r(i,arguments[n]);return i}function spliceString(t,e,i){return t.slice(0,i)+e+t.slice(i,t.length)}function safeStringReplace(t,e,i){return"string"!=typeof i?t.replace(e,i):t.replace(e,i.replace(/\$/g,"$$$$"))}function setIntervalWithTimeout(t,e,i,n){var r=!1,o=t.setInterval(function(){r?t.clearInterval(o):e()},i);return t.setTimeout(function(){r=!0},n),o}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=(r.prototype.initByInt=function(t){this.mt[0]=t>>>0;var e=[];for(this.mti=1;this.mti<this.N;this.mti++){var i=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&i)>>>16)<<16)+1812433253*(65535&i)+this.mti,e.push(this.mt[this.mti]>>>=0)}return e},r.prototype.initByArray=function(t){this.initByInt(19650218);for(var e=1,i=0,n=t.length,r=this.N>n?this.N:n;r;r--){var o=this.mt[e-1]^this.mt[e-1]>>>30;this.mt[e]=(this.mt[e]^(1664525*((4294901760&o)>>>16)<<16)+1664525*(65535&o))+t[i]+i,this.mt[e]>>>=0,i++,++e>=this.N&&(this.mt[0]=this.mt[this.N-1],e=1),n<=i&&(i=0)}for(r=this.N-1;r;r--){o=this.mt[e-1]^this.mt[e-1]>>>30;this.mt[e]=(this.mt[e]^(1566083941*((4294901760&o)>>>16)<<16)+1566083941*(65535&o))-e,this.mt[e]>>>=0,++e>=this.N&&(this.mt[0]=this.mt[this.N-1],e=1)}this.mt[0]=2147483648},r.prototype.genRandInt32=function(){var t,e=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var i=void 0;for(this.mti,this.N,i=0;i<this.N-this.M;i++)t=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+this.M]^t>>>1^e[1&t];for(;i<this.N-1;i++)t=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+(this.M-this.N)]^t>>>1^e[1&t];t=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^t>>>1^e[1&t],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,(t^=t>>>18)>>>0},r.prototype.genRandInt31=function(){return this.genRandInt32()>>>1},r.prototype.random=function(){return this.genRandInt32()*(1/4294967296)},r.prototype.genRandRes53=function(){return 1/9007199254740992*(67108864*(this.genRandInt32()>>>5)+(this.genRandInt32()>>>6))},r);function r(t){t=t||[(new Date).getTime()],this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.initByArray(t)}},,,function(t,e,i){"use strict";i.r(e);var c='<div style=\'position:absolute;bottom:5px;right:5px\'>\n    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid" width="18" height="18" viewBox="0 0 40 40">\n        <defs>\n            <style>\n                .cls-1 {\n                fill: #000;\n                opacity: 0.5;\n                }\n            </style>\n        </defs>\n        <g>\n            <circle cx="20" cy="20" r="20" class="cls-1"/>\n            <image xlink:href="data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAATCAMAAAC0hZ1zAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA1VBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAADCivq7AAAARXRSTlMAfs0FDKkJSOPoCJDqL85zv0AHtrja2MZC0R3dQewNYcW85Bv7gRTP8FPh+U61VCn6McFSvuDfwAI11GOropWWEa+E0wYS3CQmAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEgAACxIB0t1+/AAAALhJREFUKM910eUSwjAQBODFtbi7S3F3Z9//lUjL0CmQ7K/LfZNMcgFscThdUMTtIb0K8/nJQFBuIYqEpahF+MFoLG62EkkPUumMCGlhlswZlidBewwsFMmSaTmUfxEV0a/WzP3/iERdlI0SpIhmi2xDjp2uKHt9KTZ1DoYjcoz/207KnM6AObnA0q/rq7UNnWzNjMM34p3YGtVub+HhqL2ndjpbA7yoZysyDKh/Bbje1P8pcn88v9Yv52Y2wVwNOcwAAAAASUVORK5CYII=" x="6" y="11" width="28" height="19"/>\n        </g>\n    </svg>\n  </div>\n  ',d=-1,l=0,n=2,r=3,o=4,p=function(){function t(t,e,i){this.win=void 0,this.logger=void 0,this.state=void 0,this.config=void 0,this.isDisplayed=!1,this.mute=void 0,this.container=void 0,this.canvas=null,this.videoElement=void 0,this.clickWrapper=null,this.mainVideo=void 0,this.currentVideoIndex=void 0,this.videos=void 0,this.win=t,this.logger=e,this.config={height:9,width:16,location:i.player.location,autoplay:!0,ad_verifications:[],preload:!0,controls:!1,muted:!0,playsInline:!0,endcard_url:!1,startOnFullView:!1};var n,r,o,s,e=Array.isArray(i.videos)?i.videos[0]:i.videos;for(r in e.dimensions&&(this.config.height=e.dimensions.height,this.config.width=e.dimensions.width),i.adParams&&((o=this.win.document.createElement("div")).innerHTML=i.adParams,o=o.querySelectorAll("MediaFile"),n=this,o.forEach(function(t){var e=parseInt(t.getAttribute("width")||"0"),t=parseInt(t.getAttribute("height")||"0");e&&t&&n.config.width<e&&(n.config.height=t,n.config.width=e)})),i)this.config[r]=i[r];if(this.videos=[],this.mainVideo=null,this.currentVideoIndex=null,this.state=l,this.container=this.win.document.createElement("div"),this.container.className="kargo-video-player",this.container.style.margin="0 auto",this.container.style.position="relative",this.container.style.maxWidth="300px",this.container.style.textAlign="left",this.container.style.overflow="hidden",this.config.sidebar_slot&&(this.container.style.minWidth="300px"),this.config.ad_verifications.length)for(var a=0;a<this.config.ad_verifications.length;a++){var h=document.createElement("script");h.src=this.config.ad_verifications[a],this.container.appendChild(h)}this.videoElement=this.win.document.createElement("video"),this.videoElement.controls=this.config.controls,this.videoElement.muted=this.config.muted,this.videoElement.playsInline=this.config.playsInline,this.videoElement.autoplay=this.config.autoplay,this.videoElement.preload=this.config.preload?"auto":"none",this.videoElement.style.height="100%",this.videoElement.style.maxHeight="100%",this.videoElement.style.width="100%",this.videoElement.style.objectFit="fill",this.container.appendChild(this.videoElement),this.mute=this.win.document.createElement("div"),this.mute.className="kargo-vpaid-mute",this.mute.style.position="absolute",this.mute.innerHTML+=c,this.mute.style.zIndex="2147483646",this.mute.style.width="50px",this.mute.style.height="50px",this.mute.style.backgroundPosition="bottom 5px right 5px",this.mute.style.backgroundRepeat="no-repeat",this.mute.style.backgroundSize="18px 18px",this.mute.style.right="0px",this.mute.style.bottom="0px",this.container.appendChild(this.mute),this.config.location?"string"==typeof this.config.location?(o=this.win.document.querySelector(this.config.location))?o.appendChild(this.container):(this.state=d,this.logger.error('Container Element cannot be located using selector "'+this.config.location+'"!')):this.config.location instanceof Element?this.config.location.appendChild(this.container):(this.state=d,this.logger.error("Invalid Config Value: location")):this.win.document.currentScript&&(s=this.win.document.currentScript).parentNode?s.nextSibling?s.parentNode.insertBefore(this.container,s.nextSibling):s.parentNode.appendChild(this.container):(this.state=d,this.logger.error("Cannot determine Player location!")),this.state!==d&&(this.setDimensions(),this.logger.debug("Setting Player Size: "+this.container.clientWidth+"x"+this.container.clientHeight))}var e=t.prototype;return e.setDimensions=function(){var t;this.config.width>this.config.height?(this.container.style.width="100%",t=Math.max(this.config.height/this.config.width,9/16),this.container.style.height=this.container.clientWidth*t+"px"):this.config.amp_iframe?(this.container.style.height="250px",this.container.style.width=250*this.config.width/this.config.height+"px"):this.config.width<this.config.height?(this.container.style.height="460px",this.container.style.width=460*this.config.width/this.config.height+"px"):(this.container.style.width="100%",this.container.style.height=this.container.clientWidth+"px")},e.addVideo=function(t){var e=this,i=this.determineClickthru(t);this.handleVideoClick(t),t.onComplete(function(){e.mute.style.display="none",e.videoElement.style.display="none",e.videoElement.src="",i?e.showScreenshot(i):e.showEndcard(),e.nextVideo();var t=e.getCurrentVideo();t&&t.play()}),t.onMidpoint(function(){i&&e.takeScreenshot()}),this.videos.push(t),this.logger.debug("Adding Video "+this.videos.length,t)},e.nextVideo=function(){var t=this.getCurrentVideo();t&&t.unload(),null===this.currentVideoIndex?this.currentVideoIndex=0:this.currentVideoIndex++,(t=this.getCurrentVideo())&&(this.logger.debug("Setting Active Video "+(this.currentVideoIndex+1),this.getCurrentVideo()),t.load())},e.getCurrentVideo=function(){var t=null;return t=null!==this.currentVideoIndex&&this.videos[this.currentVideoIndex]?this.videos[this.currentVideoIndex]:t},e.determineClickthru=function(t){if(t.clickUrl)return t.clickUrl;if(t.adParameters)if(0==t.adParameters.indexOf("<")){if(window.DOMParser){var e=null,i=(new DOMParser).parseFromString(t.adParameters,"text/xml").getElementsByTagName("ClickThrough")[0];if(i)return e=0==(e=i.innerHTML).indexOf("<")?/>(.*)<\//.exec(e)[1]:e}}else try{JSON.parse(t.adParameters)}catch(t){this.logger.debug("Could not find a click URL")}return""},e.takeScreenshot=function(){var t=this.container.clientWidth,e=this.container.clientHeight;this.canvas=document.createElement("canvas"),this.canvas.className="kargo-vpaid-screenshot",this.canvas.width=t,this.canvas.height=e,this.canvas.style.display="none",this.container.appendChild(this.canvas);var i,n,r,o,s,a=this.canvas.getContext("2d");a&&(a.fillRect(0,0,t,e),a.drawImage(this.videoElement,0,0,t,e),a.fillStyle="rgba(255,255,255, 0.6)",a.fillRect(0,0,t,e),i=t/2-78.5,n=e/2-20,r=window.URL,o=new Image,e=new Blob(['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 314 80">\n        <defs>\n            <style>\n                .cls-1 { \n                opacity: 0.6;\n                }\n                .cls-2,.cls-3,.cls-4 {\n                fill: none;\n                stroke: #fff;\n                stroke-linecap: round;\n                }\n                .cls-2 {\n                stroke-miterlimit: 10;\n                stroke-width: 3px;\n                }\n                .cls-3,.cls-4 {\n                stroke-linejoin: round;\n                }\n                .cls-3 {\n                stroke-width: 2.91px;\n                }\n                .cls-4 {\n                stroke-width: 3.03px;\n                }\n                .cls-5 {\n                fill: #fff;\n                }\n            </style>\n        </defs>\n        <g id="Layer_2" data-name="Layer 2">\n            <g id="Layer_1-2" data-name="Layer 1">\n                <rect class="cls-1" width="314" height="80"/>\n                <line class="cls-2" x1="68.39" y1="40" x2="47.39" y2="40"/>\n                <polyline class="cls-3" points="62.39 47.75 70.14 40 62.39 32.25"/>\n                <polyline class="cls-4" points="51.39 26.75 41.39 26.75 41.39 53.25 51.39 53.25"/>\n                <path class="cls-5" d="M99.9,31.48h2.91V45.93h7.89v2.59H99.9Z"/>\n                <path class="cls-5" d="M116.15,31.48h10.73v2.59h-7.83v4.71h6.32v2.59h-6.32v4.56h8.33v2.59H116.15Z"/>\n                <path class="cls-5" d="M143,44.85h-7l-1.27,3.67h-3l6.36-17h2.83l6.38,17h-3Zm-.86-2.5L139.53,35h-.05l-2.57,7.39Z"/>\n                <path class="cls-5" d="M161.7,48.52l-4.08-6.07h-2.28v6.07h-2.9v-17h6.29c4.05,0,5.83,2.35,5.83,5.52a4.88,4.88,0,0,1-3.74,5.14v.07l4.36,6.31Zm-6.36-8.69h2.76c2.33,0,3.46-1.2,3.46-2.88s-1.18-2.88-3.26-2.88h-3Z"/>\n                <path class="cls-5" d="M184.79,31.48v17h-2.95l-8.28-12.07V48.52h-2.91v-17h2.88l8.33,12.24h0V31.48Z"/>\n                <path class="cls-5" d="M217.48,31.48v17h-2.91V37.1h0l-4.68,8.13H208l-4.65-8.13h0V48.52h-2.9v-17h2.9l5.62,10.2H209l5.61-10.2Z"/>\n                <path class="cls-5" d="M223.38,40a8.61,8.61,0,1,1,17.21,0,8.61,8.61,0,1,1-17.21,0Zm14.19,0c0-3.5-2.43-6-5.57-6-3.34,0-5.62,2.66-5.62,6s2.28,6,5.62,6C235.14,46,237.57,43.48,237.57,40Z"/>\n                <path class="cls-5" d="M255.76,48.52l-4.08-6.07H249.4v6.07h-2.91v-17h6.29c4.06,0,5.83,2.35,5.83,5.52a4.87,4.87,0,0,1-3.74,5.14v.07l4.37,6.31Zm-6.36-8.69h2.76c2.33,0,3.45-1.2,3.45-2.88s-1.17-2.88-3.26-2.88H249.4Z"/>\n                <path class="cls-5" d="M264.71,31.48h10.73v2.59h-7.83v4.71h6.32v2.59h-6.32v4.56h8.33v2.59H264.71Z"/>\n            </g>\n        </g>\n    </svg>'],{type:"image/svg+xml"}),s=r.createObjectURL(e),o.onload=function(){a&&(a.drawImage(o,i,n,157,40),r.revokeObjectURL(s))},o.src=s)},e.showEndcard=function(){this.container.style.backgroundColor="white";var t=document.createElement("div"),e=Math.round(3*this.container.clientHeight/4);t.style.width="235px",t.className="kargo-vpaid-endcard",t.style.height=e+"px",t.style.top="50%",t.style.fontFamily="Arial",t.style.fontSize="16px",t.style.color="#ababab",t.style.left="50%",t.style.textAlign="center",t.style.transform="translate(-50%, -50%)",t.style.position="absolute",t.style.borderTop="1px solid",t.style.borderBottom="1px solid",t.style.display="table",this.container.appendChild(t);var i=document.createElement("div");i.style.width="235px",i.style.position="relative",i.style.display="table-cell",i.style.verticalAlign="middle",i.style.height=e-64+"px",i.style.lineHeight="1.2",i.style.top="4px",t.appendChild(i);t=this.win.location.hostname.toUpperCase(),t=this.config.endcard_url?'<span>YOU SUPPORT</span><br /><span style="font-size: 18px"><b>'+t+'.</b></span><br /><span style="line-height: 1.9">THANK YOU!<span>':'<span>YOU SUPPORT US.</span><br /><span style="line-height: 1.9"><b>THANK YOU!</b></span><br />';i.innerHTML="<span>WHEN YOU SUPPORT</span><br /><span>OUR ADVERTISERS,</span><br />"+t},e.showScreenshot=function(t){this.canvas?(this.container.style.overflow="visible",this.videoElement.style.display="none",this.canvas.style.display="block",this.container.onclick=function(){landing=window.open(t,"_blank")}):this.showEndcard()},e.getMuteButton=function(){return this.mute},e.getContainerElement=function(){return this.container},e.getVideoElement=function(){return this.videoElement},e.display=function(){var e,i=this;this.isDisplayed||(this.nextVideo(),this.container.style.display="block",this.isDisplayed=!0,this.logger.debug("Displaying Video Player"),this.state=n,this.config.autoplay?this.play():(this.clickWrapper=this.win.document.createElement("div"),this.clickWrapper.style.position="absolute",this.clickWrapper.style.top="0",this.clickWrapper.style.left="0",this.clickWrapper.style.width="100%",this.clickWrapper.style.height="100%",this.clickWrapper.style.zIndex="10000",this.mainVideo&&this.mainVideo.getPoster()&&(this.clickWrapper.style.background="url("+this.mainVideo.getPoster()+")"),e=function(t){i.clickWrapper&&(t.preventDefault(),i.logger.debug("Starting Playback"),i.clickWrapper.style.display="none",i.play())},this.clickWrapper.addEventListener("touchstart",function(t){e(t)}),this.clickWrapper.addEventListener("click",function(t){e(t)}),this.container.appendChild(this.clickWrapper)))},e.play=function(){var t=this.getCurrentVideo();this.isDisplayed&&t&&(this.logger.debug("Starting video"),t.play(),this.handleMute(),(t=t.getElement())&&!t.paused&&(this.state=r))},e.pause=function(){var t=this.getCurrentVideo();this.isDisplayed&&t&&(t.pause(),t.getElement().paused&&(this.state=o))},e.handleVideoClick=function(t){this.getVideoElement().onclick=function(){t.config.click_url&&window.open(t.config.click_url,"_blank"),t.tracking.click&&t.fireClick()}},e.handleMute=function(){var e=this.getCurrentVideo(),i=this.getVideoElement(),n=this.getMuteButton(),r=this.config.muted;n.onclick=function(){var t=1==r?'<div style=\'position:absolute;bottom:5px;right:5px\'>\n    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid" width="18" height="18" viewBox="0 0 40 40">\n        <defs>\n            <style>\n                .cls-1 {\n                fill: #000;\n                opacity: 0.5;\n                }\n            </style>\n        </defs>\n        <g>\n            <circle cx="20" cy="20" r="20" class="cls-1"/>\n            <image xlink:href="data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAATCAMAAAC0hZ1zAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABGlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAACz+Fa2AAAAXHRSTlMAfs0FWZw3F6sJAV5R7ugIjVKQ6g8ZL84i5/FWZLW42tg5Q78kX/IGMH/sfGLdu++op9vFvpTgsKFGedPCIB7j4d8K9XqiNAI11JU9lhg6+C1X8091HLGFhB+OYQcQpjwAAAABYktHRACIBR1IAAAACXBIWXMAAAsSAAALEgHS3X78AAAA80lEQVQoz22R51rCQBBFR7AhItjFihV7xViwoCj23vW8/3N4Q8yXBDM/pp3d2XLNQtaUSHpJc0urRa2tHVL1rANIR1hnBrqyXp4T7Q6xHtX0Cib7VKVV9PtoYJA/OJQfHlFjFMbMxicKMvDhpMKU6DTMGGFzx87CXNFsHhZssRHaEiwrrLAaA22NdfkNNuPgFiX5bfJx0GFHfhcnBu7BvkKZg/+3PczU338EOSsdVyrOSQBPq3CmjedQM7twj7m88mGqyrUaN5AI/vbWH3t3r6r2AI+hn396DlR50cLXiGZv776eJmU/GtS2z3LRS76+f9zwCzb6VKfV6E36AAAAAElFTkSuQmCC" x="6" y="11" width="28" height="19"/>\n        </g>\n    </svg>\n</div>':c;n.innerHTML=t,e&&(r?e.unmute():e.mute()),i.muted=!r,r=!r}},e.onAllVideosReady=function(t){},t}(),s=(a.prototype.isActive=function(){return this.active},a.prototype.findContainerApi=function(){return Promise.resolve(this.isActive())},a.prototype.getApi=function(){return this.api},a.prototype.getApiStatus=function(){return this.status},a.prototype.getContainerStatus=function(){return this.api?this.api.status():null},a.prototype.getLastEventData=function(){return this.lastEventData},a.prototype.getSize=function(){var t,e={width:0,height:0};return e=this.api?{width:(t=this.api.geom()).self.w,height:t.self.h}:e},a.prototype.getContainerSize=function(){return this.getSize()},a.prototype.getSupport=function(){return this.api?this.api.supports():null},a.prototype.setInitialSize=function(t,e){var i=this;this.api&&(this.initialSize.width=t,this.initialSize.height=e,this.isRegistered=!0,this.api.register(t,e,function(t,e){i.status=t,i.lastEventData=e}))},a.prototype.setExpandedSize=function(t,e){if(this.api){var i=this.getSize();return i.width===t&&i.height===e||(i=this.getSupport(),this.api.expand({b:e,r:t,push:!!i&&i["exp-push"]})),Promise.resolve()}return Promise.reject(new Error("SafeFrame API not set"))},a.prototype.setContainerSize=function(t,e){return this.api&&t&&e&&0<t&&0<e?(this.isRegistered||this.setInitialSize(t,e),this.setExpandedSize(t,e)):Promise.reject(new Error("SafeFrame API not set or invalid size of "+t+"x"+e))},a.prototype.noAdToDisplay=function(){},a.prototype.getInViewPercentage=function(){return this.api?this.api.inViewPercentage():0},a.prototype.isVisible=function(){return 0<this.getInViewPercentage()},a);function a(t){this.win=t,this.active=!1,this.api=null,this.status=null,this.lastEventData=null,this.isRegistered=!1,this.initialSize={width:0,height:0},this.win.$sf&&this.win.$sf.ext&&(this.active=!0,this.api=this.win.$sf.ext)}var h=i(0);function u(t){for(var e=t,i=t.top;e!==i;){var n=void 0;try{n=e.parent.location.href}catch(t){n=!1}if(!n)break;for(var r,o=e.parent.document.getElementsByTagName("iframe"),s=null,a=0;a<o.length;a+=1)if((r=o[a]).contentWindow===e){s=r;break}if(s&&-1<s.className.split(" ").indexOf("krg-nobust"))break;e=e.parent}return e}function g(t,e){return decodeURIComponent((new RegExp(e+"=(.+?)(&|$)","i").exec(t)||["",""])[1])}function f(t){var e="";try{e=t.location.href}catch(t){}return t.AMP_CONTEXT_DATA&&t.AMP_CONTEXT_DATA.sourceUrl?e=t.AMP_CONTEXT_DATA.sourceUrl:t.context&&t.context.sourceUrl?e=t.context.sourceUrl:function(t){var e;try{e=t.top.location.href}catch(t){e=null}return!e}(t)&&t.document.referrer?e=t.document.referrer:g(e,"content_url")&&(e=g(e,"content_url")),e}var v,m,i=(v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),A=function(){return(A=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},y=(m=Error,i(w,m),w.prototype.addContext=function(t,e){var i=e.ctx,n=e.moduleName,r=e.prep,e=e.reason,t=t||"";return n&&(t=n+": "+t),i&&(t=t+" "+(r||"in")+" "+i),e&&(t+=": "+e),t},w.prototype.buildErrorMessage=function(t,e){return this.addContext(t,e)},w);function w(t,e){var i=this.constructor;void 0===e&&(e={});var n=m.call(this,t)||this;return Object.setPrototypeOf(n,i.prototype),n.message=n.buildErrorMessage(t||"",e),n}var b,E=(i(k,b=y),k.prototype.buildErrorMessage=function(t,e){return this.addContext("Cannot "+t,e)},k);function k(){return null!==b&&b.apply(this,arguments)||this}var C,V=(i(x,C=y),x.prototype.buildErrorMessage=function(t,e){return this.addContext(t+" is disabled",e)},x);function x(){return null!==C&&C.apply(this,arguments)||this}var S,P=(i(I,S=y),I.prototype.buildErrorMessage=function(t,e){return this.addContext("Cannot load "+t,e)},I);function I(){return null!==S&&S.apply(this,arguments)||this}var T,M=(i(W,T=y),W.prototype.buildErrorMessage=function(t,e){return this.addContext("Cannot get "+t,e)},W);function W(){return null!==T&&T.apply(this,arguments)||this}var _,O=(i(R,_=y),R.prototype.buildErrorMessage=function(t,e){return this.addContext((t?"No "+t:"Empty")+" response",e)},R);function R(){return null!==_&&_.apply(this,arguments)||this}var D,N=(i(U,D=y),U.prototype.buildErrorMessage=function(t,e){return this.addContext(t+" not supported",A({prep:e.prep||"by"},e))},U);function U(){return null!==D&&D.apply(this,arguments)||this}var F,B=(i(L,F=y),L.prototype.buildErrorMessage=function(t,e){return this.addContext(t+" is not set",e)},L);function L(){return null!==F&&F.apply(this,arguments)||this}var j,z=(i(Q,j=y),Q.prototype.buildErrorMessage=function(t,e){return this.addContext(t+" is invalid",e)},Q);function Q(){return null!==j&&j.apply(this,arguments)||this}var H,K=(i(G,H=y),G.prototype.buildErrorMessage=function(t,e){return this.addContext("Request for "+t+" timed out",A({prep:e.prep||"after"},e))},G);function G(){return null!==H&&H.apply(this,arguments)||this}Z.prototype.errCant=function(t,e,i){return new E(t,{ctx:e,reason:i,moduleName:this.moduleName})},Z.prototype.errDisabled=function(t,e){return new V(""+t,{ctx:e,moduleName:this.moduleName})},Z.prototype.errLoad=function(t,e){return new P(""+t,{ctx:e,moduleName:this.moduleName})},Z.prototype.errGet=function(t,e){return new M(""+t,{ctx:e,moduleName:this.moduleName})},Z.prototype.errNew=function(t){return new y(t,{moduleName:this.moduleName})},Z.prototype.errNoResponse=function(t,e){return new O(t,{ctx:e,moduleName:this.moduleName})},Z.prototype.errNoSupport=function(t,e){return new N(t,{ctx:e,prep:"by",moduleName:this.moduleName})},Z.prototype.errNotSet=function(t,e){return new B(t,{ctx:e,moduleName:this.moduleName})},Z.prototype.errInvalid=function(t,e){return new z(t,{ctx:e,moduleName:this.moduleName})},Z.prototype.errTimeout=function(t,e){return new K(t,{ctx:e,moduleName:this.moduleName})},i=Z;function Z(t){this.moduleName=t}var q=function(t,e){var i={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]]);return i},X=new i("ad-util/request");function J(t,e,i){void 0===i&&(i=!1);var n=e,r=t.document.createElement("img");r.style.position="absolute",r.style.visibility="hidden",r.style.left="-9999px",r.style.top="0",i&&(n+=(-1<e.indexOf("?")?"&":"?")+"_cb="+Date.now()*Math.random()),-1===n.indexOf("tk.kargo.com")||(e=Object(h.b)(t,"Kargo.Plugin.Cerberus.getLexId"))&&e()&&(n=function(t,e){if(!e)return t;var i,n=t;return Object.keys(e).forEach(function(t){i=e[t],n+=(-1<n.indexOf("?")?"&":"?")+t+"="+encodeURIComponent(i)}),n}(n,{kid:e()}));function o(t){t.parentNode&&t.parentNode.removeChild(t)}var s;return r.addEventListener("load",function(){t.clearTimeout(s),o(r)},!1),s=t.setTimeout(function(){o(r)},8e3),r.src=n,t.document.body.appendChild(r),r}function Y(t){t&&t.start()}function $(t){t&&t.stop()}function tt(t,e,i,n,r){var o,s,a,h,c;void 0===r&&(r={}),t&&t.length?(o=e.document.head||e.document.body,s=r.latencyTracker,(a=e.document.createElement("script")).src=t,c=!1,a.onload=function(){$(s),e.clearTimeout(h),c||n(null,a)},i&&(h=e.setTimeout(function(){c=!0,r.onTimeoutFail?n(X.errTimeout(t,i+" ms")):n(null,a)},i)),Y(s),o.appendChild(a)):n(new Error("Invalid URL"))}function et(t,e,i,n,r,o){var s,a;void 0===o&&(o={}),t&&t.length?(s=new XMLHttpRequest,a=o.latencyTracker,n&&(s.withCredentials=!0),i&&(s.timeout=i),s.onload=function(){if($(a),200<=s.status&&s.status<400){var t=(s.responseText||"").trim();if(t.length){try{t=JSON.parse(t)}catch(t){}r(null,t)}else r(new Error("Empty Response"))}else r(new Error("GET Request Failed with Status: "+s.status+" - "+s.statusText))},s.ontimeout=function(t){r(t)},s.onerror=function(t){r(t)},s.open("GET",t,!0),Y(a),s.send()):r(new Error("Invalid URL"))}var it=(nt.prototype.findContainerApi=function(){var r=this;return new Promise(function(e){function t(t){t&&t.observeIntersection&&t.requestResize&&(r.setApi(t),r.active=!0),e(r.active)}var i,n;r.win.context?t(r.win.context):r.win.AMP_CONTEXT_DATA&&r.win.AMP_CONTEXT_DATA.ampcontextFilepath?(i=r.win.AMP_CONTEXT_DATA.ampcontextFilepath,n=r.win,tt(i,n,(n={}).timeout||null,function(){t(r.win.context||null)},q(n,["timeout"]))):t(null)})},nt.prototype.setApi=function(t){var e=this;this.api=t,this.size.width=this.win.innerWidth,this.size.height=this.win.innerHeight,this.api.observeIntersection(function(t){e.api.hidden?e.percentInView=0:e.percentInView=100*t[t.length-1].intersectionRatio})},nt.prototype.isActive=function(){return this.active},nt.prototype.getApi=function(){return this.api},nt.prototype.getContainerSize=function(){return this.size},nt.prototype.isVisible=function(){return 0<this.getInViewPercentage()},nt.prototype.getInViewPercentage=function(){return this.percentInView},nt.prototype.setContainerSize=function(t,e){var i=this,n=!1;return this.api?(!this.renderStarted&&this.api.renderStart&&(this.api.renderStart({width:t,height:e}),this.renderStarted=!0,n=!0),n||this.size.width!==t||this.size.height!==e?this.api.requestResize(t,e).then(function(){i.size.width=t,i.size.height=e,n&&i.api.signalInteractive()}).catch(function(t){return n&&i.api.signalInteractive(),Promise.reject(t)}):Promise.resolve()):Promise.reject(new Error("GoogleAmp API not set"))},nt.prototype.noAdToDisplay=function(){this.api&&this.api.noContentAvailable()},nt.prototype.getMasterWindow=function(){return this.api?this.api.master:null},nt);function nt(t){this.win=t,this.active=!1,this.renderStarted=!1,this.api=null,this.size={width:0,height:0},this.percentInView=0}var rt=(ot.prototype.getType=function(){return this.type},ot.prototype.detectEnvironment=function(){var i=this;return this.ready?Promise.resolve(this.type):Promise.all([this.googleAmp.findContainerApi(),this.safeFrame.findContainerApi()]).then(function(t){var e=t[0],t=t[1];return i.type=e?"GoogleAmp":t?"SafeFrame":null,i.ready=!0,i.type})},ot.prototype.isInContainer=function(){return null!==this.type},ot.prototype.callContainerMethod=function(t,e,i){var n=i=void 0===i?null:i;switch(this.type){case"GoogleAmp":this.googleAmp[t]&&(n=this.googleAmp[t].apply(this.googleAmp,e));break;case"SafeFrame":this.safeFrame[t]&&(n=this.safeFrame[t].apply(this.safeFrame,e))}return n},ot.prototype.isVisible=function(){return this.callContainerMethod("isVisible",[],!1)},ot.prototype.getInViewPercentage=function(){return this.callContainerMethod("getInViewPercentage",[],0)},ot.prototype.setContainerSize=function(t,e){return this.callContainerMethod("setContainerSize",[t,e])},ot.prototype.getContainerSize=function(){return this.callContainerMethod("getContainerSize",[],{height:null,width:null})},ot.prototype.noAdToDisplay=function(){this.callContainerMethod("noAdToDisplay",[])},ot);function ot(t){this.type=null,this.ready=!1,this.win=u(t),this.safeFrame=new s(this.win),this.googleAmp=new it(this.win)}function st(t,e){var i=!1;if(t.ownerDocument){var n=null;if("head"===e?n=t.ownerDocument.head:"body"===e&&(n=t.ownerDocument.body),n)for(var r=t.parentElement;r;){if(r===n){i=!0;break}r=r.parentElement}}return i}function at(t){return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}function ht(t,e,i){var n,r,o=e.getComputedStyle(t),s=t.getBoundingClientRect(),a=at(e),h=!0;return h="0"===o.opacity||"none"===o.display||"hidden"===o.visibility||!st(t,"body")||0===s.height||0===s.width||(n=t,r=e,n=(o=void 0===(o={clientRect:s,viewport:a})?{}:o).clientRect||n.getBoundingClientRect(),r=o.viewport||at(r),n.left>r.right||n.right<r.left||n.top>r.bottom||n.bottom<r.top)||void 0!==i&&(n=t,r=e,t=i,i=(e=void 0===(e={clientRect:s,viewport:a})?{}:e).clientRect||n.getBoundingClientRect(),s=e.viewport||at(r),a=n.offsetWidth*t,e=n.offsetHeight*t,r=s.right-i.left,n=i.right-s.left,t=s.bottom-i.top,s=i.bottom-s.top,r<a||n<a||t<e||s<e)?!1:h}var ct=function(){function t(t,e,i){this.win=void 0,this.logger=void 0,this.source=void 0,this.containingIframe=void 0,this.creative=void 0,this.win=t,this.logger=e,this.source=i,this.creative=null,this.containingIframe=null}var e=t.prototype;return e.getCreative=function(){return this.creative},e.loadJs=function(t,e){var i,n,r=this;this.creative?e():(this.logger.debug("VPAIDAd - Initializing VPAID Ad"),this.containingIframe=this.win.document.createElement("iframe"),this.containingIframe.className="kargo-vpaid",this.containingIframe.style.display="none",t.appendChild(this.containingIframe),(i=this.win.document.createElement("script")).type="text/javascript",i.src=this.source,i.addEventListener("load",function(){r.containingIframe.contentWindow.getVPAIDAd&&"function"==typeof r.containingIframe.contentWindow.getVPAIDAd&&(r.creative=r.containingIframe.contentWindow.getVPAIDAd(),r.logger.debug("VPAIDAd - Retrieved VPAID Creative")),e()}),n=this.containingIframe,setTimeout(function(){n.contentWindow.document.body.appendChild(i)},25))},e.destroy=function(){this.containingIframe&&this.containingIframe.parentNode&&this.containingIframe.parentNode.removeChild(this.containingIframe)},t}(),dt=function(){function t(t,e,i,n){this.win=void 0,this.logger=void 0,this.creative=void 0,this.wrapper=void 0,this.lastVolume=void 0,this.win=t,this.logger=e,this.creative=i,this.wrapper=n,this.lastVolume=null}var e=t.prototype;return e.destroy=function(){this.wrapper&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper),this.wrapper=null},e.getElement=function(){return this.wrapper},e.getVideoElement=function(){return this.wrapper.querySelector("video")},e.checkVPAIDInterface=function(){var t=!1;return t=this.creative&&this.creative.handshakeVersion&&"function"==typeof this.creative.handshakeVersion&&this.creative.initAd&&"function"==typeof this.creative.initAd&&this.creative.startAd&&"function"==typeof this.creative.startAd&&this.creative.stopAd&&"function"==typeof this.creative.stopAd&&this.creative.skipAd&&"function"==typeof this.creative.skipAd&&this.creative.pauseAd&&"function"==typeof this.creative.pauseAd&&this.creative.resumeAd&&"function"==typeof this.creative.resumeAd&&this.creative.expandAd&&"function"==typeof this.creative.expandAd&&this.creative.collapseAd&&"function"==typeof this.creative.collapseAd&&this.creative.subscribe&&"function"==typeof this.creative.subscribe&&this.creative.unsubscribe&&"function"==typeof this.creative.unsubscribe&&this.creative.resizeAd&&"function"==typeof this.creative.resizeAd?!0:t},e.setCallbacksForCreative=function(){this.logger.debug("VPAIDWrapper - setting Creative callbacks");var t,e={AdStarted:this.onStartAd,AdStopped:this.onStopAd,AdSkipped:this.onSkipAd,AdLoaded:this.onAdLoaded,AdLinearChange:this.onAdLinearChange,AdSizeChange:this.onAdSizeChange,AdExpandedChange:this.onAdExpandedChange,AdSkippableStateChange:this.onAdSkippableStateChange,AdDurationChange:this.onAdDurationChange,AdRemainingTimeChange:this.onAdRemainingTimeChange,AdVolumeChange:this.onAdVolumeChange,AdImpression:this.onAdImpression,AdClickThru:this.onAdClickThru,AdInteraction:this.onAdInteraction,AdVideoStart:this.onAdVideoStart,AdVideoFirstQuartile:this.onAdVideoFirstQuartile,AdVideoMidpoint:this.onAdVideoMidpoint,AdVideoThirdQuartile:this.onAdVideoThirdQuartile,AdVideoComplete:this.onAdVideoComplete,AdUserAcceptInvitation:this.onAdUserAcceptInvitation,AdUserMinimize:null,AdUserClose:this.onAdUserClose,AdPaused:this.onAdPaused,AdPlaying:this.onAdPlaying,AdError:this.onAdError,AdLog:null};for(t in e)this.creative&&this.creative.subscribe(e[t]||function(){},t,this)},e.handshakeVersion=function(t){var e=this.creative?this.creative.handshakeVersion(t):null;return this.logger.debug("VPAIDWrapper - handshakeVersion("+t+") => "+e),e},e.initAd=function(t,e,i,n,r,o){this.logger.debug("VPAIDWrapper - initAd("+t+", "+e+", "+i+", "+n+", "+JSON.stringify(r)+", "+JSON.stringify(o)+")"),this.creative&&this.creative.initAd(t,e,i,n,r,o)},e.startAd=function(){this.logger.debug("VPAIDWrapper - startAd"),this.creative&&(this.lastVolume=this.creative.getAdVolume(),this.creative.startAd())},e.stopAd=function(){this.logger.debug("VPAIDWrapper - stopAd");try{this.creative&&this.creative.stopAd()}catch(t){}},e.pauseAd=function(){this.logger.debug("VPAIDWrapper - pauseAd"),this.creative&&this.creative.pauseAd()},e.resumeAd=function(){this.logger.debug("VPAIDWrapper - resumeAd"),this.creative&&this.creative.resumeAd()},e.setAdVolume=function(t){this.logger.debug("VPAIDWrapper - setAdVolume("+t+")"),this.creative&&this.creative.setAdVolume(t)},e.getDuration=function(){return this.creative?this.creative.getAdDuration():0},e.getProgress=function(){try{return this.creative?this.creative.getAdDuration()-this.creative.getAdRemainingTime():0}catch(t){return null}},e.resizeAd=function(t,e,i){this.logger.debug("VPAIDWrapper - resizeAd("+t+", "+e+", "+i+")"),this.creative&&this.creative.resizeAd()},e.expandAd=function(){this.logger.debug("VPAIDWrapper - expandAd"),this.creative&&this.creative.expandAd()},e.collapseAd=function(){this.logger.debug("VPAIDWrapper - collapseAd"),this.creative&&this.creative.collapseAd()},e.onAdStarted=function(){this.logger.debug("VPAIDWrapper - onAdStarted"),this.wrapper.dispatchEvent(new this.win.Event("onAdStarted"))},e.onAdStopped=function(){this.logger.debug("VPAIDWrapper - onAdStopped"),this.wrapper.dispatchEvent(new this.win.Event("onAdStopped"))},e.onAdSkipped=function(){this.logger.debug("VPAIDWrapper - onAdSkipped"),this.wrapper.dispatchEvent(new this.win.Event("onAdSkipped"))},e.onAdPaused=function(){this.logger.debug("VPAIDWrapper - onAdPaused"),this.wrapper.dispatchEvent(new this.win.Event("onAdPaused"))},e.onAdPlaying=function(){this.logger.debug("VPAIDWrapper - onAdPlaying"),this.wrapper.dispatchEvent(new this.win.Event("onAdPlaying"))},e.onAdError=function(t){this.logger.debug("VPAIDWrapper - onAdError: "+t),this.wrapper.dispatchEvent(new this.win.CustomEvent("onAdError",{detail:{message:t}}))},e.onAdUserAcceptInvitation=function(){this.logger.debug("VPAIDWrapper - onAdUserAcceptInvitation"),this.wrapper.dispatchEvent(new this.win.Event("onAdUserAcceptInvitation"))},e.onAdUserClose=function(){this.logger.debug("VPAIDWrapper - onAdUserClose"),this.wrapper.dispatchEvent(new this.win.Event("onAdUserClose"))},e.onAdSkippableStateChange=function(){this.creative&&(this.logger.debug("VPAIDWrapper - Ad Skippable State Changed to: "+this.creative.getAdSkippableState()),this.wrapper.dispatchEvent(new this.win.Event("onAdSkippableStateChange")))},e.onAdExpandedChange=function(){this.creative&&(this.logger.debug("VPAIDWrapper - Ad Expanded Changed to: "+this.creative.getAdExpanded()),this.wrapper.dispatchEvent(new this.win.Event("onAdExpandedChange")))},e.onAdSizeChange=function(){this.creative&&(this.logger.debug("VPAIDWrapper - Ad size changed to: w="+this.creative.getAdWidth()+" h="+this.creative.getAdHeight()),this.wrapper.dispatchEvent(new this.win.Event("onAdSizeChange")))},e.onAdDurationChange=function(){this.creative&&(this.logger.debug("VPAIDWrapper - Ad Duration Changed to: "+this.creative.getAdDuration()),this.wrapper.dispatchEvent(new this.win.Event("onAdDurationChange")))},e.onAdRemainingTimeChange=function(){this.creative&&(this.logger.debug("VPAIDWrapper - Ad Remaining Time Changed to: "+this.creative.getAdRemainingTime()),this.wrapper.dispatchEvent(new this.win.Event("onAdRemainingTimeChange")))},e.onAdImpression=function(){this.logger.debug("VPAIDWrapper - Ad Impression"),this.wrapper.dispatchEvent(new this.win.Event("onAdImpression"))},e.onAdClickThru=function(t,e,i){i&&window.open(t,"_blank"),this.logger.debug("VPAIDWrapper - Clickthrough portion of the ad was clicked"),this.wrapper.dispatchEvent(new this.win.CustomEvent("onAdClickThru",{detail:{url:t,id:e,playerHandles:i}}))},e.onAdInteraction=function(t){this.logger.debug("VPAIDWrapper - A non-clickthrough event has occured"),this.wrapper.dispatchEvent(new this.win.Event("onAdInteraction"))},e.onAdVideoStart=function(){this.logger.debug("VPAIDWrapper - Video 0% completed"),this.wrapper.dispatchEvent(new this.win.Event("onAdVideoStart"))},e.onAdVideoFirstQuartile=function(){this.logger.debug("VPAIDWrapper - Video 25% completed"),this.wrapper.dispatchEvent(new this.win.Event("onAdVideoFirstQuartile"))},e.onAdVideoMidpoint=function(){this.logger.debug("VPAIDWrapper - Video 50% completed"),this.wrapper.dispatchEvent(new this.win.Event("onAdVideoMidpoint"))},e.onAdVideoThirdQuartile=function(){this.logger.debug("VPAIDWrapper - Video 75% completed"),this.wrapper.dispatchEvent(new this.win.Event("onAdVideoThirdQuartile"))},e.onAdVideoComplete=function(){this.logger.debug("VPAIDWrapper - Video 100% completed"),this.wrapper.dispatchEvent(new this.win.Event("onAdVideoComplete"))},e.onAdLinearChange=function(){this.creative&&(this.logger.debug("VPAID - Ad linear has changed: "+this.creative.getAdLinear()),this.wrapper.dispatchEvent(new this.win.Event("onAdLinearChange")))},e.onAdLoaded=function(){this.logger.debug("VPAIDWrapper - Ad loaded"),this.wrapper.dispatchEvent(new this.win.Event("onAdLoaded"))},e.onStartAd=function(){this.logger.debug("VPAIDWrapper - Ad has started"),this.wrapper.dispatchEvent(new this.win.Event("onStartAd"))},e.onStopAd=function(){try{this.logger.debug("VPAIDWrapper - Ad has stopped"),this.wrapper.dispatchEvent(new this.win.Event("onStopAd"))}catch(t){}},e.onSkipAd=function(){this.logger.debug("VPAIDWrapper - Ad was skipped"),this.wrapper.dispatchEvent(new this.win.Event("onSkipAd"))},e.onAdVolumeChange=function(){this.creative&&(this.logger.debug("VPAIDWrapper - Ad Volume has changed from: "+this.lastVolume+" to: "+this.creative.getAdVolume()),0===this.creative.getAdVolume()&&0<this.lastVolume?this.onAdVolumeMute():0<this.creative.getAdVolume()&&0===this.lastVolume&&this.onAdVolumeUnmute(),this.lastVolume=this.creative.getAdVolume(),this.wrapper.dispatchEvent(new this.win.Event("onAdVolumeChange")))},e.onAdVolumeMute=function(){this.logger.debug("VPAIDWrapper - Ad Volume has been muted"),this.wrapper.dispatchEvent(new this.win.Event("onAdVolumeMute"))},e.onAdVolumeUnmute=function(){this.logger.debug("VPAIDWrapper - Ad Volume has been unmuted"),this.wrapper.dispatchEvent(new this.win.Event("onAdVolumeUnmute"))},t}(),lt=0,pt=1,ut=2,gt=3,ft=4,vt=function(){function t(t,e,i){if(this.MoatApiReference=void 0,this.adParameters=void 0,this.clickPrefix=void 0,this.clickUrl=void 0,this.config=void 0,this.containerEnv=void 0,this.container=void 0,this.currentTime=void 0,this.destroyAd=void 0,this.duration=void 0,this.errorCode=void 0,this.errors=void 0,this.initialSize=void 0,this.isActive=void 0,this.lastTimeChecked=void 0,this.lastTimeViewable=void 0,this.logger=void 0,this.playing=void 0,this.reportErr=void 0,this.status=void 0,this.statusCallbacks=void 0,this.totalTimeInView=void 0,this.tracking=void 0,this.unbindCallbacks=void 0,this.volume=void 0,this.vpaidAd=void 0,this.vpaidProgressCheck=void 0,this.vpaidWrapper=void 0,this.wasViewableTrackerFired=void 0,this.win=void 0,this.progressWrapper=void 0,this.progressBar=void 0,this.source=void 0,this.element=void 0,this.vpaidUrl=void 0,this.click_url=void 0,this.sendEvent=void 0,this.win=t,this.logger=e,this.config={source:"",element:document.createElement("video"),moat:"",vpaid:!1,poster:""},this.tracking={start:[],firstQuartile:[],midpoint:[],thirdQuartile:[],complete:[],progress:{}},this.containerEnv=new rt(this.win),this.totalTimeInView=0,this.lastTimeChecked=0,this.lastTimeViewable=!1,this.wasViewableTrackerFired=!1,this.initialSize=0,i.tracking){for(var n in i.tracking)this.tracking[n]=i.tracking[n];delete i.tracking}for(n in i)this.config[n]=i[n];this.errors=i.errors,this.adParameters=i.adParameters,this.clickUrl=i.clickUrl,this.clickPrefix=i.clickPrefix||null,this.destroyAd=i.destroyAd,this.reportErr=i.reportErr,this.duration=i.duration||0,this.currentTime=0,this.errorCode=null,this.vpaidAd=null,this.vpaidWrapper=null,this.vpaidProgressCheck=0,this.MoatApiReference=null,this.volume=0,this.playing=!1,this.isActive=!1,this.status=lt,this.statusCallbacks={},this.unbindCallbacks=[],this.container=document.createElement("video"),this.progressWrapper=this.win.document.createElement("div"),this.progressBar=this.win.document.createElement("div"),this.source="",this.vpaidUrl=""}var e=t.prototype;return e.initMoatTracking=function(t,e,i,n,r){var o=window.location.protocol,s="https:"===o?"z":"js",a=document.createElement("script"),h=[],i={adData:{ids:e,duration:i,url:r},dispatchEvent:function(t){this.sendEvent?(h&&(h.push(t),t=h,h=!1),this.sendEvent(t)):h.push(t)}},r="_moatApi"+Math.floor(1e8*Math.random());return window[r]=i,a.type="text/javascript",t&&t.insertBefore(a,t.childNodes[0]||null),a.src=o+"//"+s+".moatads.com/"+n+"/moatvideo.js#"+r,i},e.getVPAIDWrapper=function(){return this.vpaidWrapper},e.getSource=function(){return this.config.source},e.getElement=function(){return this.config.element},e.changeStatus=function(t){if(t!==this.status&&(this.status=t,this.statusCallbacks[t]&&this.statusCallbacks[t].length))for(var e=0;e<this.statusCallbacks[t].length;e++)this.statusCallbacks[t][e]()},e.onStatusChange=function(t,e){this.statusCallbacks[t]||(this.statusCallbacks[t]=[]),this.statusCallbacks[t].push(e)},e.bindEvents=function(){var t,e,i=this,n=this.vpaidWrapper?this.vpaidWrapper.getElement():null;if(this.config.vpaid&&this.vpaidWrapper&&n){for(t in r={onAdLoaded:function(){i.loadMoat(),i.vpaidWrapper&&"number"==typeof i.vpaidWrapper.getDuration()&&-1<i.vpaidWrapper.getDuration()&&(i.duration=i.vpaidWrapper.getDuration()),i.vpaidWrapper&&i.vpaidWrapper.setAdVolume(i.volume),i.changeStatus(ut)},onAdError:function(t){i.fireError(t.detail.message)},onSkipAd:function(){i.handleSkip()},onAdPlaying:function(){i.playing=!0},onAdVideoStart:function(){i.playing=!0,i.fireStartEvent()},onAdClickThru:function(t){i.fireClick(t.detail.url)},onAdVideoFirstQuartile:function(){i.fireFirstQuartileEvent()},onAdVideoMidpoint:function(){i.fireMidpointEvent()},onAdVideoThirdQuartile:function(){i.fireThirdQuartileEvent()},onAdVideoComplete:function(){var t=i.vpaidWrapper;i.win.clearInterval(i.vpaidProgressCheck),i.currentTime=i.getDuration(),i.fireCompleteEvent(),i.monitorProgress(i.getDuration()),window.setTimeout(function(){t&&t.stopAd()},1)}},this.vpaidProgressCheck=this.win.setInterval(function(){var t=i.vpaidWrapper?i.vpaidWrapper.getProgress():null;t&&-1<t&&(i.currentTime=t,i.monitorProgress(i.currentTime))},100),r)e=r[t],this.vpaidWrapper&&n&&n.addEventListener(t,e);this.unbindCallbacks.push(function(){if(i.vpaidWrapper)for(var t in r){var e=r[t];n&&n.removeEventListener(t,e)}})}else if(!this.config.vpaid&&this.config.element){var r,o=0;for(t in r={loadedmetadata:function(){i.isActive&&(i.changeStatus(ut),i.config.element.duration&&(i.duration=i.config.element.duration))},timeupdate:function(){i.currentTime=i.config.element.currentTime,i.isActive&&(0===o&&i.fireStartEvent(),i.fireProgressEvent(o,i.currentTime),o=i.currentTime)},ended:function(){i.isActive&&i.fireCompleteEvent()}})e=r[t],this.config.element.addEventListener(t,e);this.unbindCallbacks.push(function(){for(var t in r){var e=r[t];i.config.element.removeEventListener(t,e)}})}},e.unbindEvents=function(){for(var t=0;t<this.unbindCallbacks.length;t++)this.unbindCallbacks[t]()},e.confirmDimensions=function(i){var n=this,r=i.parentNode.getElementsByTagName("video")[0];r&&(r.onloadeddata=function(){var t=Math.round(r.clientHeight/r.clientWidth*100)/100,e=Math.round(r.videoHeight/r.videoWidth*100)/100;t!=e&&(n.logger.debug("Discrepancy in VAST and video element dimensions - resizing to "+e+" ratio"),e=i.parentNode.clientWidth*e+"px",i.parentNode.style.height=e,r.style.height=e,(e=document.querySelector(".kargo-loader"))&&(e.style.visibility="hidden"))})},e.load=function(){var t,i=this;this.isActive||(this.changeStatus(pt),this.isActive=!0,this.config.vpaid?(this.vpaidAd=new ct(this.win,this.logger,this.config.source),t=this.getElement(),this.vpaidAd.loadJs(t.parentNode,function(){var t=i.win.document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.height="100%",t.style.width="100%";var e=i.getElement();e&&e.parentNode.appendChild(t),i.vpaidWrapper=new dt(i.win,i.logger,i.vpaidAd.getCreative(),t),i.confirmDimensions(t),i.vpaidWrapper.checkVPAIDInterface()&&"2.0"==i.vpaidWrapper.handshakeVersion("2.0")&&(i.vpaidWrapper.setCallbacksForCreative(),i.bindEvents(),e={AdParameters:i.adParameters},t={slot:t,videoSlot:i.getElement(),videoSlotCanAutoPlay:!0},i.handleVisibility(e,t))})):(this.bindEvents(),this.config.element&&(this.config.element.src=this.config.source,this.getPoster()?this.config.element.poster=this.getPoster():delete this.config.element.poster)))},e.checkVisibility=function(){var t=ht(this.getElement(),this.win,.5),e=Date.now();t?this.lastTimeViewable?(this.totalTimeInView+=e-this.lastTimeChecked,2e3<=this.totalTimeInView&&!this.wasViewableTrackerFired&&(this.fireTracker(this.config.viewableImpressionTrackers.viewable),this.totalTimeInView=0,this.wasViewableTrackerFired=!0)):(this.lastTimeViewable=!0,this.lastTimeChecked=e):this.lastTimeViewable=!1},e.unload=function(){this.isActive&&(this.isActive=!1,this.unbindEvents())},e.play=function(){var e,t,i=this;this.status===pt?this.onStatusChange(ut,function(){i.play()}):this.status===ut?this.vpaidWrapper?((e=new MutationObserver(function(){var t=i.vpaidWrapper?i.vpaidWrapper.getVideoElement():null;t&&(t.autoplay=!0,t.muted=!0,t.playsInline=!0,e.disconnect())})).observe(this.vpaidWrapper.getElement(),{childList:!0,subtree:!0}),this.config.element.play(),this.vpaidWrapper.startAd(),this.createProgressBar(),setTimeout(function(){i.playing||i.config.element.play()},1e3)):this.config.element&&this.config.element.play():this.status===ft&&(this.config.vpaid?this.vpaidWrapper&&(this.config.element.pause(),this.vpaidWrapper.resumeAd(),this.MoatApiReference&&(t=new CustomEvent("AdPlaying",{detail:{adVolume:this.volume}}),this.MoatApiReference.dispatchEvent(t))):this.config.element&&this.config.element.play())},e.pause=function(){var t;this.config.vpaid&&this.vpaidWrapper?(this.MoatApiReference&&(t=new CustomEvent("AdPaused",{detail:{adVolume:this.volume}}),this.MoatApiReference.dispatchEvent(t)),this.vpaidWrapper.pauseAd()):this.config.element&&this.config.element.pause()},e.createProgressBar=function(){this.container=this.getElement().parentNode,this.progressWrapper.className="kargo-vpaid-progress",this.progressWrapper.style.position="absolute",this.progressWrapper.style.backgroundColor="rgba(0,0,0, 0.2)",this.progressWrapper.style.zIndex="100000000",this.progressWrapper.style.width="100%",this.progressWrapper.style.height="4px",this.progressWrapper.style.bottom="0px",this.progressBar.className="kargo-vpaid-progress-bar",this.progressBar.style.backgroundColor="rgba(255,255,255, 0.5)",this.progressBar.style.zIndex="100000000",this.progressBar.style.width="0%",this.progressBar.style.height="4px",this.progressBar.style.transition="width 0.7s ease-out",this.progressWrapper.appendChild(this.progressBar),this.container.appendChild(this.progressWrapper)},e.mute=function(){this.vpaidWrapper&&this.vpaidWrapper.setAdVolume(0);for(var t,e=0;e<this.tracking.mute.length;e++)"function"==typeof this.tracking.mute[e]?this.tracking.mute[e]():this.fireTracker(this.tracking.mute[e]);this.volume=0,this.MoatApiReference&&(t=new CustomEvent("AdVolumeChange",{detail:{adVolume:this.volume}}),this.MoatApiReference.dispatchEvent(t))},e.unmute=function(){this.vpaidWrapper&&this.vpaidWrapper.setAdVolume(1);for(var t,e=0;e<this.tracking.unmute.length;e++)"function"==typeof this.tracking.unmute[e]?this.tracking.unmute[e]():this.fireTracker(this.tracking.unmute[e]);this.volume=1,this.MoatApiReference&&(t=new CustomEvent("AdVolumeChange",{detail:{adVolume:this.volume}}),this.MoatApiReference.dispatchEvent(t))},e.getDuration=function(){return this.duration},e.setDuration=function(t){this.duration=t},e.getPoster=function(){return this.config.poster},e.onStart=function(t){this.tracking.start.push(t)},e.onMidpoint=function(t){this.tracking.midpoint.push(t)},e.onComplete=function(t){this.tracking.complete.push(t)},e.handleVisibility=function(r,o){function t(t){s.config.startOnFullView&&s.logger.debug("Video - Playing only when in full view");var e=s.getElement();s.initialSize=e?e.offsetWidth:0,i(t),(s.config.viewableImpressionTrackers.viewable||{}).length?setInterval(function(){s.checkVisibility(),i(t)},100):setInterval(function(){i(t)},100)}var s=this,a=this.win.innerHeight,h=this.getElement(),c=parseInt(h.style.height),d=function(t){t?(t=s.getElement())&&s.vpaidWrapper&&(s.status==pt?(s.vpaidWrapper.initAd(t.offsetWidth,t.offsetHeight,"normal",500,r,o),s.status=gt):s.status==ft&&(s.play(),s.status=gt)):s.status!=gt&&s.status!=ut||(s.pause(),s.status=ft)},i=function(t){var e,i,n=s.getElement();n&&(n.offsetWidth!==s.initialSize&&(n.style.width=s.initialSize+"px"),t?d(s.containerEnv.isVisible()):(e=0<=h.getBoundingClientRect().top&&h.getBoundingClientRect().bottom<=a,i=h&&h.getBoundingClientRect().top<a-c/2&&h.getBoundingClientRect().top>-c/2,t=h&&h.getBoundingClientRect().top<a-5&&h.getBoundingClientRect().top>-(c-5),t=s.status==pt?i:t,s.config.startOnFullView&&(t=e),s.config.disableOutOfViewPause?i&&s.status==pt&&s.vpaidWrapper&&(s.vpaidWrapper.initAd(n.offsetWidth,n.offsetHeight,"normal",500,r,o),s.status=gt):d(t)))};this.config.vpaid&&this.containerEnv.detectEnvironment().then(function(){s.containerEnv&&s.containerEnv.getType()?t(!0):t(!1)})},e.onProgress=function(t,e){"string"==typeof t?-1<t.indexOf("%")?(t=t.replace("%","").trim(),t=parseInt(t),isNaN(t)||(this.tracking.progress.percent[t]=this.tracking.progress.percent[t]||[],this.tracking.progress.percent[t].push(e))):(t=parseFloat(t),isNaN(t)||(this.tracking.progress.time[t]=this.tracking.progress.time[t]||[],this.tracking.progress.time[t].push(e))):"number"==typeof t&&(this.tracking.progress.time[t]=this.tracking.progress.time[t]||[],this.tracking.progress.time[t].push(e))},e.monitorProgress=function(t){var e;this.progressBar&&(e=this.getDuration(),this.progressBar.style.width=(t&&e?t/e*100:0)+"%")},e.fireError=function(e){this.errorCode=901;var i=null;try{((i=JSON.parse(e)).errorCode||i.code)&&(this.errorCode=i.errorCode||i.code)}catch(t){i={code:this.errorCode,message:e}}if(this.logger.debug("Video - Error "+this.errorCode),this.reportErr&&this.reportErr(i),this.destroyAd&&this.destroyAd(),this.errors&&this.errors.length)for(var t=0;t<this.errors.length;t++)this.fireTracker(this.errors[t])},e.handleSkip=function(){if(this.logger.debug("Video - Ad was Skipped"),this.destroyAd&&this.destroyAd(),this.errors&&this.errors.length)for(var t=0;t<this.errors.length;t++)this.fireTracker(this.errors[t])},e.loadMoat=function(){var t=this.vpaidWrapper?this.vpaidWrapper.getDuration():0,e=0<t?t:this.duration,i=this.getElement().parentNode,t=this.config.moat;this.MoatApiReference=this.initMoatTracking(i,t,e,"kargovideojstag")},e.fireStartEvent=function(){var t;this.MoatApiReference&&(t=new CustomEvent("AdVideoStart",{detail:{adVolume:this.volume}}),this.MoatApiReference.dispatchEvent(t)),this.logger.debug("Video - Start Event");for(var e=0;e<this.tracking.start.length;e++)"function"==typeof this.tracking.start[e]?this.tracking.start[e]():this.fireTracker(this.tracking.start[e])},e.fireClick=function(t){if(this.tracking.click_url_prefix&&(t&&(this.tracking.click_url_prefix+=t),this.fireTracker(this.tracking.click_url_prefix)),this.tracking.click)for(var e=0;e<this.tracking.click.length;e++)"function"==typeof this.tracking.click[e]?this.tracking.click[e]():this.fireTracker(this.tracking.click[e])},e.fireFirstQuartileEvent=function(){var t;this.MoatApiReference&&(t=new CustomEvent("AdVideoFirstQuartile",{detail:{adVolume:this.volume}}),this.MoatApiReference.dispatchEvent(t)),this.logger.debug("Video - FirstQuartile Event");for(var e=0;e<this.tracking.firstQuartile.length;e++)"function"==typeof this.tracking.firstQuartile[e]?this.tracking.firstQuartile[e]():this.fireTracker(this.tracking.firstQuartile[e])},e.fireMidpointEvent=function(){var t;this.MoatApiReference&&(t=new CustomEvent("AdVideoMidpoint",{detail:{adVolume:this.volume}}),this.MoatApiReference.dispatchEvent(t)),this.logger.debug("Video - Midpoint Event");for(var e=0;e<this.tracking.midpoint.length;e++)"function"==typeof this.tracking.midpoint[e]?this.tracking.midpoint[e]():this.fireTracker(this.tracking.midpoint[e])},e.fireThirdQuartileEvent=function(){var t;this.MoatApiReference&&(t=new CustomEvent("AdVideoThirdQuartile",{detail:{adVolume:this.volume}}),this.MoatApiReference.dispatchEvent(t)),this.logger.debug("Video - ThirdQuartile Event");for(var e=0;e<this.tracking.thirdQuartile.length;e++)"function"==typeof this.tracking.thirdQuartile[e]?this.tracking.thirdQuartile[e]():this.fireTracker(this.tracking.thirdQuartile[e])},e.fireCompleteEvent=function(){var t;this.MoatApiReference&&(t=new CustomEvent("AdVideoComplete",{detail:{adVolume:this.volume}}),this.MoatApiReference.dispatchEvent(t)),this.logger.debug("Video - Complete Event");for(var e=0;e<this.tracking.complete.length;e++)"function"==typeof this.tracking.complete[e]?this.tracking.complete[e]():this.fireTracker(this.tracking.complete[e]);this.progressWrapper.style.display="none"},e.fireProgressEvent=function(t,e){var i,n=[],r=t&&this.duration?t/this.duration*100:0,o=e&&this.duration?e/this.duration*100:0;for(i in this.tracking.progress){var s=i,a=void 0;"string"==typeof i&&-1<i.indexOf("%")?(i=i.replace("%","").trim(),a=parseFloat(i),!isNaN(a)&&r<a&&a<=o&&(n=n.concat(this.tracking.progress[s]),this.logger.debug("Video - Progress Event: "+s))):(a=parseFloat(i),!isNaN(a)&&t&&e&&t<a&&a<=e&&(n=n.concat(this.tracking.progress[s]),this.logger.debug("Video - Progress Event: "+s+"s")))}r<25&&25<=o&&this.fireFirstQuartileEvent(),r<50&&50<=o&&this.fireMidpointEvent(),r<75&&75<=o&&this.fireThirdQuartileEvent();for(var h=0;h<n.length;h++)"function"==typeof n[h]?n[h]():this.fireTracker(n[h])},e.fireScriptTracker=function(t){var e,i,n=document.createElement("script");0===(t=this.replaceTrackerMacros(t)).indexOf("<script")?(e=(i=/<script([\s\S]*?)>(.*?)<\/script>/gim.exec(t))[1],i=i[2],e&&e.match(/src="(.*?)"/i)&&(n.src=e.match(/src="(.*?)"/i)[1].replace(/['"]+/g,"")),i&&(n.textContent=i)):n.src=t;t=this.getElement();t&&t.parentNode&&t.parentNode.parentNode&&t.parentNode.parentNode.insertBefore(n,t.parentNode.nextSibling)},e.fireImgTracker=function(t){var e=this,i=this.win.document.createElement("img");i.style.position="absolute",i.style.visibility="hidden",i.style.left="-9999px",i.style.top="0";function n(){i.parentNode&&i.parentNode.removeChild(i)}var r;i.addEventListener("load",function(){e.win.clearTimeout(r),n()}),r=this.win.setTimeout(function(){n()},8e3),i.src=this.replaceTrackerMacros(t),this.win.document.body.appendChild(i)},e.fireTracker=function(t){t.toLowerCase().match(/(^<script|.js$)/)?this.fireScriptTracker(t):this.fireImgTracker(t)},e.replaceTrackerMacros=function(t){function e(t,e){for(var i=t.toString();i.length<e;)i="0"+i;return i}var i=t,t=this.errorCode?this.errorCode.toString():"",i=i.replace(/\[errorcode\]/gi,encodeURIComponent(t)),t="";this.currentTime&&(n=1e3*this.currentTime,t=e(Math.floor(n/36e5),2)+":"+e(Math.floor(n/6e4),2)+":"+e(Math.floor(n/1e3),2)+"."+e(Math.floor(n%1e3),3)),i=i.replace(/\[contentplayhead\]/gi,encodeURIComponent(t||""));var n=this.config.element.currentSrc||"";i=(i=i.replace(/\[asseturi\]/gi,encodeURIComponent(n))).replace(/\[cachebusting\]/gi,function(t){for(var e="",i=8;0<i;)e+=Math.floor(10*Math.random()).toString(),--i;return encodeURIComponent(e)});t=new Date,n=t.getTimezoneOffset()/60,n=n<0?n.toString():"+"+n.toString(),n=t.getFullYear().toString()+"-"+e(t.getMonth()+1,2)+"-"+e(t.getDate(),2)+"T"+e(t.getHours(),2)+":"+e(t.getMinutes(),2)+":"+e(t.getSeconds(),2)+"."+e(t.getMilliseconds(),3)+n;return i=i.replace(/\[timestamp\]/gi,encodeURIComponent(n))},t}(),mt="Chrome",At="Safari",yt="Firefox",wt="Android",bt="Windows",Et="Mobile";function kt(t){return t.toLowerCase()}function Ct(t){var e=t.navigator.userAgent,t="other";return-1<e.indexOf("Edge/")?t=kt("Edge"):-1<e.indexOf(mt+"/")?t=kt(mt):-1<e.indexOf(At+"/")?t=kt(At):-1<e.indexOf(yt+"/")?t=kt(yt):-1<e.indexOf("Opera")?t=kt("Opera"):-1<e.indexOf("MSIE")||-1<e.indexOf("Trident/")?t="ie":-1<e.indexOf("FBAN/FBForIPhone")||-1<e.indexOf("FBAN/FBIOS")||-1<e.indexOf("facebookexternalhit/")?t="facebook":-1<e.indexOf("Twitter for iPhone")?t="twitter":-1<e.indexOf("Instagram")?t="instagram":-1<e.indexOf("Pinterest")?t="pinterest":-1<e.indexOf("LinkedInApp")?t="linkedIn":-1<e.indexOf("Snapchat")&&(t="snapchat"),t}function Vt(t){var e=t.navigator.userAgent,t="other";return-1<e.indexOf(wt)?t=kt(wt):/iP(hone|od|ad)/.test(e)?t="ios":/windows/i.test(e)?t=bt:/macintosh/i.test(e)?t="MacOS":/linux/i.test(e)&&(t="Linux"),t}function xt(t){t=t.navigator.userAgent;return-1<t.indexOf(Et)&&!/iPad|Xoom|SCH-I800|Kindle/.test(t)}function St(t){t=t.navigator.userAgent;return/iPad|Xoom|SCH-I800|Kindle/.test(t)||0<=t.indexOf(wt)&&t.indexOf(Et)<0}function Pt(t){return xt(t)?"MobileWeb":St(t)?"TabletWeb":"Desktop"}var It="invalid",Tt=(Mt.prototype.createReportUrl=function(){var i=this,n=this.dataBucket;return Object.keys(this.params).forEach(function(t){var e;i.allowedReportParamKeys.has(t)&&(!(e=i.params[t])&&0!==e&&!1!==e||(e=i.escapeLineProtocolTagKeyOrValue(i.params[t]),n+=","+i.escapeLineProtocolTagKeyOrValue(t)+"="+e))}),n+=" value="+this.counter,"https://ad-monitor.kargo.com?data="+encodeURIComponent(n)},Mt.prototype.escapeLineProtocolTagKeyOrValue=function(t){return"object"==typeof t?It:(""+t).replace(/,|\s|=/g,"\\$&")},Mt.prototype.report=function(){try{var t=(s=this.win.location.host,(a=document.createElement("a")).href=s,/\./.test(a.host)?a.host:"");this.params.domain=t||It;var e=this.createReportUrl();this.win,r=(i={timeout:1e3,withCredentials:!(n=function(){})}).timeout,o=i.withCredentials,et(e,0,void 0===r?0:r,void 0!==o&&o,n,q(i,["timeout","withCredentials"]))}catch(t){console.error(t)}var i,n,r,o,s,a},Mt);function Mt(t,e,i,n,r){void 0===r&&(r=1),this.win=t,this.dataBucket=e,this.allowedReportParamKeys=i,this.params=n,this.counter=r}var Wt=new Set(["browser","creative","domain","err_code","format","msg","os","platform","slot","source","url","version","deal_id","campaign_id","line_item_id"]),_t={1:"error",2:"warn",3:"log",4:"debug"},Ot=(Rt.prototype.setLabel=function(t){this.label=t},Rt.prototype.setLevel=function(t){this.level=t},Rt.prototype.setReporting=function(t){this.reportingEnabled=t},Rt.prototype.getLabelString=function(){var t="[KARGO]";if(this.label)if(Object(h.c)(this.label))for(var e=0;e<this.label.length;e+=1)t+="["+this.label[e]+"]";else t+="["+this.label+"]";return t},Rt.prototype.write=function(t,e){var i;if(Object(h.c)(e)&&0!==e.length){var n=f(this.win),r=Object(h.b)(this.win,"Kargo.Config.getGlobalConfig");if(r&&r()&&r().isDebug()||g(n,"krg_debug")||t<=this.level){var o=e;4===t?o=["%c"+this.getLabelString(),"color: #FF7500"].concat(o):o.unshift(this.getLabelString());for(var s=0;s<o.length;s+=1)o[s]instanceof Error?o[s]=(o[s].name?o[s].name+" - ":"")+o[s].message:"object"!=typeof o[s]||o[s]instanceof HTMLElement||(o[s]=Object(h.d)({},o[s]));try{(i=this.win.console)[_t[t]].apply(i,o)}catch(t){}}}},Rt.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.write(3,t)},Rt.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.write(2,t)},Rt.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.write(1,t)},Rt.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.write(4,t)},Rt.prototype.report=function(t,e,i,n){void 0===i&&(i={}),void 0===n&&(n=!1);try{var r,o,s,a;this.reportingEnabled&&(r={url:f(this.win),err_code:t,msg:e,platform:Pt(this.win),os:Vt(this.win),browser:Ct(this.win)},Object(h.d)(r,i),o="https://s3.amazonaws.com/log.kargo.com/adtag.error",s=[],Object.keys(r).forEach(function(t){s.push(encodeURIComponent(t)+"="+encodeURIComponent(r[t]))}),(a=s.join("&")).length&&(o+="?"+a),J(this.win,o),n||new Tt(this.win,"ad-tag-error",Wt,r).report())}catch(t){console.error(t)}},Rt.prototype.reportAdMetric=function(t,e,i,n,r,o,s,a,h){var c={format:i,version:n,os:Vt(this.win),slot:r,tagtype:o,platform:Pt(this.win)};""!==a&&(c.videotype=a),""!==s&&(c.err_code=s);var t="https://ad-metrics.kargo.com/api/v1/send?metric="+e+"&value="+t,d=[];Object.keys(c).forEach(function(t){d.push('"'+encodeURIComponent(t)+'":"'+encodeURIComponent(c[t])+'"')}),d.length&&(t+="&params={"+d+"}"),et(t,this.win,2e3,!1,function(t){h&&h(t)})},Rt);function Rt(t,e,i,n){void 0===i&&(i=3),void 0===n&&(n=!0),this.label=e=void 0===e?"":e,this.level=i,this.reportingEnabled=n,this.win=t}var Dt=window;Dt.Kargo=Dt.Kargo||{},Dt.Kargo.VideoPlayer=function(t){this.play=void 0,this.pause=void 0;var e=Dt.document.getElementsByClassName("kargo-video-player").length+1,i=new Ot(Dt,"VideoPlayer "+e);t.debug&&i.setLevel(4),i.debug("Creating new VideoPlayer v2.2.2",t),t.adParams&&0===t.adParams.indexOf("&lt;")&&((e=window.document.createElement("div")).innerHTML=t.adParams,t.adParams=0===e.childNodes.length?"":e.childNodes[0].nodeValue);var n=new p(Dt,i,t);this.play=function(){n.play()},this.pause=function(){n.pause()},Dt.Array.isArray(t.videos)||(t.videos=[t.videos]);for(var r,o,s=t.videos.length,a=new Array(s),h=!1,c=function(){if(!h){for(var t=0;t<a.length;t++)n.addVideo(a[t]);n.display(),h=!0}},d=0;d<t.videos.length;d++)t.videos[d].source?(t.videos[d].element=n.getVideoElement(),o=new vt(Dt,i,t.videos[d]),a[d]=o,s--):t.videos[d].vpaidUrl&&(r={adParameters:t.adParams,clickUrl:t.videos[d].click_url,destroyAd:t.destroyAd,reportErr:t.reportErr,duration:t.duration||null,element:n.getVideoElement(),errors:t.error||null,moat:t.moat_fields||{},source:t.videos[d].vpaidUrl,tracking:t.videos[d].tracking||{},viewableImpressionTrackers:t.viewableImpressionTrackers||null,vpaid:!0,disableOutOfViewPause:t.disableOutOfViewPause||null,startOnFullView:t.startOnFullView},o=new vt(Dt,i,r),a[d]=o,0===--s&&c());0===s&&c()}}]);